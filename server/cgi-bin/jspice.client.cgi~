#!/usr/bin/python
"""
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$             /$$$$$$            /$$                        $
$            /$$__  $$          |__/                        $
$        /$$| $$  \__/  /$$$$$$  /$$  /$$$$$$$  /$$$$$$     $
$       |__/|  $$$$$$  /$$__  $$| $$ /$$_____/ /$$__  $$    $
$        /$$ \____  $$| $$  \ $$| $$| $$      | $$$$$$$$    $
$       | $$ /$$  \ $$| $$  | $$| $$| $$      | $$_____/    $
$       | $$|  $$$$$$/| $$$$$$$/| $$|  $$$$$$$|  $$$$$$$    $
$       | $$ \______/ | $$____/ |__/ \_______/ \_______/    $
$  /$$  | $$          | $$                                  $
$ |  $$$$$$/          | $$                                  $
$  \______/           |__/                                  $
$							    $
$                 Jorge I. Zuluaga (C) 2016		    $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
Function: jSpice client
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
"""
#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
#HEADER
#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
print "Content-Type: text/html\n\n";

#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
#EXTERNAL MODULES
#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
import sys,os,inspect
PATH=os.path.realpath(
    os.path.abspath(os.path.split(
        inspect.getfile(
            inspect.currentframe()))[0]))
sys.path.insert(0,PATH+"/../bin")
from jspice import *

#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
#CGI PARAMETERS
#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
params=cgi.FieldStorage();
callback=params.getvalue("callback")
codigo=params.getvalue("code")

#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
#EXECUTION
#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
print callback+"""({"a":"1","codigo":"%s","opcion":"%s"})"""%(codigo,argv[0])
